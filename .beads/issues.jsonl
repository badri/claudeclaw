{"id": "cc-27d", "title": "Refactor runner.ts to accept and propagate agent context", "description": "Add an AgentContext type { agentId, paths: AgentPaths } and thread it through the main execution path in runner.ts:\\n\\n- loadPrompts() reads AGENTS.md + SOUL.md from agent workspace\\n- autoCompactMemory() operates on agent MEMORY.md\\n- writeJournalEntry() writes to agent memory/ dir\\n- writeMemoryMcpConfig() writes to agent-scoped path\\n- execClaude() uses agent-scoped session file\\n- The merged mcp.json is written per-agent\\n\\nPublic API: run(name, prompt, agentId?) and runUserMessage(name, prompt, agentId?) \u2014 agentId defaults to the settings default agent.", "status": "closed", "priority": 1, "issue_type": "task", "created_at": "2026-02-23T07:42:52.304413Z", "created_by": "lakshminp", "updated_at": "2026-02-24T04:30:11.838294Z", "source_repo": ".", "compaction_level": 0, "original_size": 0, "dependencies": [{"issue_id": "cc-27d", "depends_on_id": "cc-2an", "type": "blocks", "created_at": "2026-02-23T07:43:24.780355Z", "created_by": "lakshminp", "metadata": "{}", "thread_id": ""}, {"issue_id": "cc-27d", "depends_on_id": "cc-37m", "type": "blocks", "created_at": "2026-02-23T07:43:41.178280Z", "created_by": "lakshminp", "metadata": "{}", "thread_id": ""}, {"issue_id": "cc-27d", "depends_on_id": "cc-lga", "type": "blocks", "created_at": "2026-02-23T07:43:24.758431Z", "created_by": "lakshminp", "metadata": "{}", "thread_id": ""}]}
{"id": "cc-2an", "title": "Refactor sessions.ts to be per-agent", "description": "sessions.ts currently reads/writes a single global SESSION_FILE. Refactor so all exported functions accept an agentId parameter and resolve the session file via getAgentPaths(agentId).sessionFile.\\n\\nKeep the existing function signatures working via a default agentId='main' so no call sites break. The 'main' agent session file stays at the existing SESSION_FILE path for backwards compat.", "status": "closed", "priority": 1, "issue_type": "task", "created_at": "2026-02-23T07:42:52.286694Z", "created_by": "lakshminp", "updated_at": "2026-02-24T04:30:11.838294Z", "source_repo": ".", "compaction_level": 0, "original_size": 0, "dependencies": [{"issue_id": "cc-2an", "depends_on_id": "cc-37m", "type": "blocks", "created_at": "2026-02-23T07:43:41.153867Z", "created_by": "lakshminp", "metadata": "{}", "thread_id": ""}]}
{"id": "cc-37m", "title": "Add per-agent path helpers to paths.ts", "description": "Add a function getAgentPaths(agentId: string, customWorkspace?: string) that returns all workspace paths for a given agent:\\n\\n  workspaceDir     ~/.claudeclaw/agents/<id>/  (or custom override)\\n  agentsMd         <workspaceDir>/AGENTS.md\\n  soulMd           <workspaceDir>/SOUL.md\\n  memoryMd         <workspaceDir>/MEMORY.md\\n  memoryDir        <workspaceDir>/memory/\\n  sessionFile      <workspaceDir>/session.json\\n  memoryMcpConfig  <workspaceDir>/memory-mcp.json\\n  mcpConfig        <workspaceDir>/mcp.json\\n\\nThe 'main' agent maps to the existing legacy paths (WORKSPACE_DIR, SESSION_FILE, etc.) for full backwards compatibility \u2014 no migration needed for existing installs.", "status": "closed", "priority": 1, "issue_type": "task", "created_at": "2026-02-23T07:43:37.127620Z", "created_by": "lakshminp", "updated_at": "2026-02-24T04:30:11.838294Z", "source_repo": ".", "compaction_level": 0, "original_size": 0}
{"id": "cc-3fv", "title": "WhatsApp adapter via whatsapp-web.js", "description": "Add WhatsApp integration for personal use using whatsapp-web.js (unofficial Puppeteer-based client). Config key: settings.json `whatsapp: { enabled, allowedNumbers }`. Should mirror the Telegram adapter architecture. Note: requires Chrome/Chromium; QR code pairing on first run.", "status": "open", "priority": 2, "issue_type": "epic", "owner": "badri.dilbert@gmail.com", "created_at": "2026-02-23T03:58:01Z", "created_by": "Lakshmi Narasimhan", "updated_at": "2026-02-23T03:58:01Z", "source_repo": ".", "compaction_level": 0, "original_size": 0}
{"id": "cc-3p9", "title": "Named agents with isolated workspaces and routing", "description": "Add a first-class agents system to claudeclaw, modelled after openclaw's agent+binding architecture. Each named agent has its own workspace (SOUL.md, MEMORY.md, memory/, session.json), system prompt, and memory. A routing table in settings.json maps CLI flags / Telegram chats / future adapter channels to a specific agent. The default agent (main) preserves full backwards compatibility with the existing single-agent setup.", "status": "closed", "priority": 1, "issue_type": "epic", "created_at": "2026-02-23T07:42:29.986198Z", "created_by": "lakshminp", "updated_at": "2026-02-24T04:30:11.838294Z", "source_repo": ".", "compaction_level": 0, "original_size": 0, "dependencies": [{"issue_id": "cc-3p9", "depends_on_id": "cc-27d", "type": "blocks", "created_at": "2026-02-23T07:43:25.061176Z", "created_by": "lakshminp", "metadata": "{}", "thread_id": ""}, {"issue_id": "cc-3p9", "depends_on_id": "cc-2an", "type": "blocks", "created_at": "2026-02-23T07:43:25.037362Z", "created_by": "lakshminp", "metadata": "{}", "thread_id": ""}, {"issue_id": "cc-3p9", "depends_on_id": "cc-37m", "type": "blocks", "created_at": "2026-02-23T07:43:41.216818Z", "created_by": "lakshminp", "metadata": "{}", "thread_id": ""}, {"issue_id": "cc-3p9", "depends_on_id": "cc-3rw", "type": "blocks", "created_at": "2026-02-23T07:43:25.139005Z", "created_by": "lakshminp", "metadata": "{}", "thread_id": ""}, {"issue_id": "cc-3p9", "depends_on_id": "cc-3s1", "type": "blocks", "created_at": "2026-02-23T07:43:25.077988Z", "created_by": "lakshminp", "metadata": "{}", "thread_id": ""}, {"issue_id": "cc-3p9", "depends_on_id": "cc-aac", "type": "blocks", "created_at": "2026-02-23T07:43:25.098749Z", "created_by": "lakshminp", "metadata": "{}", "thread_id": ""}, {"issue_id": "cc-3p9", "depends_on_id": "cc-lga", "type": "blocks", "created_at": "2026-02-23T07:43:25.004149Z", "created_by": "lakshminp", "metadata": "{}", "thread_id": ""}, {"issue_id": "cc-3p9", "depends_on_id": "cc-qkj", "type": "blocks", "created_at": "2026-02-23T07:43:25.159851Z", "created_by": "lakshminp", "metadata": "{}", "thread_id": ""}, {"issue_id": "cc-3p9", "depends_on_id": "cc-tvg", "type": "blocks", "created_at": "2026-02-23T07:43:25.118199Z", "created_by": "lakshminp", "metadata": "{}", "thread_id": ""}]}
{"id": "cc-3rw", "title": "Add 'claudeclaw agents' CLI subcommand", "description": "Add a 'claudeclaw agents' command with subcommands:\\n\\n  claudeclaw agents list           \u2014 list configured agents (id, name, workspace)\\n  claudeclaw agents show <id>      \u2014 show agent config + workspace paths\\n  claudeclaw agents reset <id>     \u2014 clear session for a specific agent\\n\\nThis gives operators visibility into the agent roster without editing JSON manually.", "status": "closed", "priority": 2, "issue_type": "task", "created_at": "2026-02-23T07:43:09.967104Z", "created_by": "lakshminp", "updated_at": "2026-02-24T04:30:11.838294Z", "source_repo": ".", "compaction_level": 0, "original_size": 0, "dependencies": [{"issue_id": "cc-3rw", "depends_on_id": "cc-37m", "type": "blocks", "created_at": "2026-02-23T07:43:41.196571Z", "created_by": "lakshminp", "metadata": "{}", "thread_id": ""}, {"issue_id": "cc-3rw", "depends_on_id": "cc-lga", "type": "blocks", "created_at": "2026-02-23T07:43:24.924181Z", "created_by": "lakshminp", "metadata": "{}", "thread_id": ""}]}
{"id": "cc-3s1", "title": "Initialize agent workspaces at startup", "description": "In initConfig() (or a new initAgents()), iterate over settings.agents.list and for each agent:\\n\\n1. mkdir -p the agent workspace dir\\n2. Copy default SOUL.md / AGENTS.md from prompts/ if not present\\n3. Call writeMemoryMcpConfig() and (if browser.enabled) writeBrowserMcpConfig() for that agent\\n\\nThe 'main' agent initialisation is already handled by existing initConfig(); this task extends it for additional agents.", "status": "closed", "priority": 1, "issue_type": "task", "created_at": "2026-02-23T07:43:01.444681Z", "created_by": "lakshminp", "updated_at": "2026-02-24T04:30:11.838294Z", "source_repo": ".", "compaction_level": 0, "original_size": 0, "dependencies": [{"issue_id": "cc-3s1", "depends_on_id": "cc-27d", "type": "blocks", "created_at": "2026-02-23T07:43:24.801174Z", "created_by": "lakshminp", "metadata": "{}", "thread_id": ""}, {"issue_id": "cc-3s1", "depends_on_id": "cc-lga", "type": "blocks", "created_at": "2026-02-23T07:43:24.822678Z", "created_by": "lakshminp", "metadata": "{}", "thread_id": ""}]}
{"id": "cc-6sk", "title": "Semantic embeddings for memory_search", "description": "Add OpenAI/Ollama embedding support to memory-server.ts. SQLite chunk cache (bun:sqlite), hybrid cosine+keyword scoring, fallback to keyword when provider=none. Add memory.embeddings config section.", "status": "closed", "priority": 2, "issue_type": "feature", "owner": "badri.dilbert@gmail.com", "created_at": "2026-02-23T04:30:55Z", "created_by": "Lakshmi Narasimhan", "updated_at": "2026-02-23T04:33:51Z", "closed_at": "2026-02-23T04:33:51Z", "close_reason": "Closed", "source_repo": ".", "compaction_level": 0, "original_size": 0}
{"id": "cc-aac", "title": "Add --agent flag to CLI (start and send commands)", "description": "Add an optional --agent <id> flag to the claudeclaw start (one-shot mode) and send commands so the operator can target a specific agent:\\n\\n  claudeclaw start --prompt 'write a thread' --agent content\\n  claudeclaw send 'brainstorm startup ideas' --agent ideas\\n\\nIf --agent is omitted, use settings.agents.default (falls back to 'main').\\nValidate that the agent id exists in settings; print a clear error if not.", "status": "closed", "priority": 1, "issue_type": "task", "created_at": "2026-02-23T07:43:01.462161Z", "created_by": "lakshminp", "updated_at": "2026-02-24T04:30:11.838294Z", "source_repo": ".", "compaction_level": 0, "original_size": 0, "dependencies": [{"issue_id": "cc-aac", "depends_on_id": "cc-27d", "type": "blocks", "created_at": "2026-02-23T07:43:24.842181Z", "created_by": "lakshminp", "metadata": "{}", "thread_id": ""}, {"issue_id": "cc-aac", "depends_on_id": "cc-3s1", "type": "blocks", "created_at": "2026-02-23T07:43:24.883880Z", "created_by": "lakshminp", "metadata": "{}", "thread_id": ""}, {"issue_id": "cc-aac", "depends_on_id": "cc-lga", "type": "blocks", "created_at": "2026-02-23T07:43:24.865077Z", "created_by": "lakshminp", "metadata": "{}", "thread_id": ""}]}
{"id": "cc-c9v", "title": "Slack adapter", "description": "Add Slack Socket Mode bot integration. Same message\u2192runner\u2192reply flow as the existing Telegram adapter. Socket Mode requires no public URL \u2014 just a bot token and app-level token. Implementation should mirror src/commands/telegram.ts. Config key: settings.json `slack: { botToken, appToken, allowedChannelIds }`.", "status": "open", "priority": 1, "issue_type": "epic", "owner": "badri.dilbert@gmail.com", "created_at": "2026-02-23T03:57:33Z", "created_by": "Lakshmi Narasimhan", "updated_at": "2026-02-23T03:57:33Z", "source_repo": ".", "compaction_level": 0, "original_size": 0}
{"id": "cc-e5a", "title": "Skills system \u2014 auto-load + agent-written skills", "description": "Three sub-tasks:\n- Auto-load all skills from ~/.claudeclaw/workspace/skills/ as system prompt context on every run (list skill names + descriptions so Claude knows what's available)\n- Establish convention: Claude writes new skills to skills/ during runs with frontmatter `created_by: agent`\n- Add `claudeclaw skills` CLI command to list installed skills (name, description, created_by)", "status": "open", "priority": 2, "issue_type": "epic", "owner": "badri.dilbert@gmail.com", "created_at": "2026-02-23T03:58:25Z", "created_by": "Lakshmi Narasimhan", "updated_at": "2026-02-23T03:58:25Z", "source_repo": ".", "compaction_level": 0, "original_size": 0}
{"id": "cc-fr0", "title": "memory_search and memory_get MCP tools", "description": "Implement memory_search and memory_get as a stdio MCP server (src/mcp/memory-server.ts). Expose via --mcp-config in runner.ts. Use section-based chunking and keyword scoring for search. Replace the whole-file system prompt injection with tool-based recall.", "status": "closed", "priority": 2, "issue_type": "feature", "owner": "badri.dilbert@gmail.com", "created_at": "2026-02-23T04:23:54Z", "created_by": "Lakshmi Narasimhan", "updated_at": "2026-02-23T04:27:06Z", "closed_at": "2026-02-23T04:27:06Z", "close_reason": "Closed", "source_repo": ".", "compaction_level": 0, "original_size": 0}
{"id": "cc-iju", "title": "Webhook job triggers", "description": "Allow jobs to be triggered via HTTP webhook instead of (or in addition to) cron schedule.\n- Add `trigger: webhook` frontmatter option in job .md files\n- Add POST /webhook/:job-name endpoint to the existing web server (src/ui/server.ts)\n- Fire the job immediately when the endpoint is hit\n- Optional: shared secret header for auth", "status": "open", "priority": 3, "issue_type": "epic", "owner": "badri.dilbert@gmail.com", "created_at": "2026-02-23T03:58:33Z", "created_by": "Lakshmi Narasimhan", "updated_at": "2026-02-23T03:58:33Z", "source_repo": ".", "compaction_level": 0, "original_size": 0}
{"id": "cc-lga", "title": "Add AgentConfig and agents block to config.ts", "description": "Extend Settings interface with an 'agents' block:\\n\\n  agents: {\\n    default: string          // agent id to use when none specified, default: 'main'\\n    list: AgentConfig[]\\n  }\\n\\n  AgentConfig {\\n    id: string               // unique slug, e.g. 'main', 'content', 'ideas'\\n    name?: string            // display name\\n    systemPrompt?: string    // inline text or path to .md file\\n    workspace?: string       // optional override; defaults to ~/.claudeclaw/agents/<id>/\\n  }\\n\\nAdd parseAgentConfig() and defaults. The 'main' agent always exists implicitly (no config required) and maps to the existing ~/.claudeclaw/workspace/ for backwards compat.", "status": "closed", "priority": 1, "issue_type": "task", "created_at": "2026-02-23T07:42:41.954886Z", "created_by": "lakshminp", "updated_at": "2026-02-24T04:30:11.838294Z", "source_repo": ".", "compaction_level": 0, "original_size": 0}
{"id": "cc-qkj", "title": "Update README with agents system documentation", "description": "Add an 'Agents' section to README.md documenting:\\n\\n- The agent concept (isolated workspace, memory, session per named context)\\n- Example settings.json agents block with content/daily/ideas\\n- Directory layout showing ~/.claudeclaw/agents/<id>/\\n- CLI usage: --agent flag, claudeclaw agents list\\n- Telegram routing config example\\n- Backwards compatibility note (existing installs unaffected, 'main' agent implicit)\\n- How to add new agents (just add to settings.json, dirs auto-created at startup)", "status": "closed", "priority": 2, "issue_type": "task", "created_at": "2026-02-23T07:43:15.975569Z", "created_by": "lakshminp", "updated_at": "2026-02-24T04:30:11.838294Z", "source_repo": ".", "compaction_level": 0, "original_size": 0, "dependencies": [{"issue_id": "cc-qkj", "depends_on_id": "cc-3rw", "type": "blocks", "created_at": "2026-02-23T07:43:24.982040Z", "created_by": "lakshminp", "metadata": "{}", "thread_id": ""}, {"issue_id": "cc-qkj", "depends_on_id": "cc-aac", "type": "blocks", "created_at": "2026-02-23T07:43:24.960289Z", "created_by": "lakshminp", "metadata": "{}", "thread_id": ""}]}
{"id": "cc-tvg", "title": "Add Telegram routing: chat/topic \u2192 agent", "description": "Add a 'routes' block to the telegram config in settings.json that maps Telegram chat IDs or topic IDs to agent IDs:\\n\\n  telegram: {\\n    routes: [\\n      { chatId: -100123456, agentId: 'content' },\\n      { chatId: -100123456, topicId: 42, agentId: 'ideas' }\\n    ]\\n  }\\n\\nIn the Telegram message handler, resolve the agentId from routes before calling run(). Fall back to settings.agents.default. This lets each Telegram group topic route to a different agent.", "status": "closed", "priority": 2, "issue_type": "task", "created_at": "2026-02-23T07:43:09.947623Z", "created_by": "lakshminp", "updated_at": "2026-02-24T04:30:11.838294Z", "source_repo": ".", "compaction_level": 0, "original_size": 0, "dependencies": [{"issue_id": "cc-tvg", "depends_on_id": "cc-aac", "type": "blocks", "created_at": "2026-02-23T07:43:24.905014Z", "created_by": "lakshminp", "metadata": "{}", "thread_id": ""}]}
{"id": "cc-xwy", "title": "Memory grooming \u2014 heartbeat prompt + auto-compact", "description": "Three sub-tasks:\n- Update heartbeat prompt (prompts/heartbeat/HEARTBEAT.md) to instruct Claude to update ~/.claudeclaw/workspace/MEMORY.md when it learns new preferences, facts, or patterns about the user\n- Add `claudeclaw memory` CLI command to view/edit MEMORY.md in $EDITOR\n- Auto-compact MEMORY.md when it exceeds ~4000 tokens: summarize oldest entries, keep recent ones verbatim", "status": "closed", "priority": 2, "issue_type": "epic", "owner": "badri.dilbert@gmail.com", "created_at": "2026-02-23T03:58:17Z", "created_by": "Lakshmi Narasimhan", "updated_at": "2026-02-23T04:08:42Z", "closed_at": "2026-02-23T04:08:42Z", "close_reason": "Implemented all three parts: heartbeat prompt updated, memory CLI command added, auto-compact logic in runner.ts", "source_repo": ".", "compaction_level": 0, "original_size": 0}
{"id": "cc-yxb", "title": "Browser control via Playwright MCP", "description": "Wire @playwright/mcp into daemon startup. Steps:\n- Add @playwright/mcp as a dependency\n- Generate ~/.claudeclaw/mcp.json on daemon start pointing to the playwright MCP server\n- Pass `--mcp-config ~/.claudeclaw/mcp.json` to every `claude -p` invocation in runner.ts\n- Add `browser` security level or document which existing levels permit browser tools\n- Add `playwright` to allowedTools when browser is enabled in settings", "status": "closed", "priority": 1, "issue_type": "epic", "owner": "badri.dilbert@gmail.com", "created_at": "2026-02-23T03:57:41Z", "created_by": "Lakshmi Narasimhan", "updated_at": "2026-02-23T07:35:07.999119Z", "closed_at": "2026-02-23T07:35:07.999108Z", "close_reason": "done", "source_repo": ".", "compaction_level": 0, "original_size": 0}
